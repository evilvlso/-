

#方法1：

from scrapy.http.cookies import CookieJar
cookie_jar = CookieJar()
cookie_jar.extract_cookies(response, response.request)
        for i in self.cookie_jar:
            p = re.compile(r'<Cookie (.*?) for .*?>')
            cookies = re.findall(p, str(i))
            cookies = (cookie.split('=', 1) for cookie in cookies)
            cookies = dict(cookies)




#方法2：

def extract_conditions(url):
    pat = '((%[\w\d]{2})+\:([^&]+))'
    lst_reg_conditions = re.findall(pat, url)
    lst_conditions = list()
    for set_condition in lst_reg_conditions:
        condition = set_condition[0]  # .replace('%20TO%20', '+TO+')
        condition = unquote(condition)
        lst_conditions.append(condition)
    return lst_conditions